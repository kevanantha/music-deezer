<%- include('../partials/head')  %>
<%- include('../partials/navbar')  %>

  <div class="container">
    <% if (err) { %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>Error!</strong> <%= err %>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <% } %>
    <h1 class="text-center" style="margin-bottom: 3rem">
      <%= track.artist.name %> - <%= track.title %>
    </h1>
    <div class="row">
      <div class="col-sm-6">
        <img class="card-img-top" src="<%= track.artist.picture_big %>" alt="Card image cap">
      </div>
      <div class="col-sm-6">
        <div class="card" style="margin-bottom: 2rem">
          <div class="card-body">
            <h5 class="card-title">
              <div style="margin-bottom: 1rem">
                Release Date: <%= track.release_date %>
              </div>
              <div>
                Album: <%= track.album.title %>
              </div>
            </h5>
          </div>
          <hr style="margin: 0">
          <div class="card-body">
            <h5 class="card-title">
              <a href="<%= track.link %>">
                <%= track.title %>
              </a>
            </h5>
            <p class="card-text">
              <a href="<%= track.artist.link %>">
                <%= track.artist.name %>
              </a>
            </p>
            <p class="card-text"><%= duration(track.duration) %></p>
            <audio controls style="margin-bottom: 1rem">
              <source src="<%= track.preview %>" type="audio/mpeg">
            Your browser does not support the audio element.
            </audio>
            <form action="/users/add-to-playlist" method="POST">
              <button type="submit" class="btn btn-primary" name="trackId" value="<%= track.id %>">Add To Playlist</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

<%- include('../partials/footer')  %>
